jQuery(document).ready(function(){var a={registerCancelEvent:function(){$("body").on("click",".meta-block .cancel",function(e){var d;if(d=$(this).data("container")){$(d).hide()}else{alert("Container has to be defined.")}})},registerEditEvent:function(){$("body").on("click",".meta-block > .admin-form-edit-link",function(d){d.preventDefault();var e=$(this).data("target");if($(e).hasClass("on")){$(e).slideUp();$(e).removeClass("on")}else{$(e).slideDown();$(e).addClass("on")}})},registerOKEvent:function(){$("body").on("click",".meta-block .ok",function(k){var e,j,i,d,g,f;k.preventDefault();if(j=$(this).data("source")){var h=$(j).prop("type");if(h=="select-one"){i=$(j+" option:selected").text();d=$(j).val()}else{if(h=="radio"){i=$(j+":checked").closest("label").text();d=$(j+":checked").val()}else{if(h=="text"){i=$(j).val();d=$(j).val()}}}if(f=$(this).data("display")){$(f).text(i)}else{alert("Display container has to be defined.")}if(g=$(this).data("input")){$(g).val(d)}else{alert("Input value field has to be defined.")}if(e=$(this).data("container")){$(e).hide()}else{alert("Container has to be defined.")}}else{alert("Input value field has to be defined.")}})},registerVisibilityInputEvent:function(){$('input[name^="af_visibility"]').bind("click",function(d){if($(this).val()==USER_LEVEL_PASSWORD){$("#visibility-password").show()}else{$("#visibility-password").hide()}})},init:function(){a.registerCancelEvent();a.registerEditEvent();a.registerOKEvent();a.registerVisibilityInputEvent()}};var c={init:function(){$(".admin-new-ui-cat-btn").bind("click",function(d){d.preventDefault();$(".admin-new-ui-cat").show()})}};var b={init:function(){b.bindReturnPress();b.registerRemoveTag();b.addCommonTag()},bindReturnPress:function(){$("#admin_ui_tags").on("keypress paste",function(g){var h=window.event;var d=h.keyCode;var f=$("#admin_ui_tags").val();if(d==13){b.addTag(f);return false}$("#admin_ui_tags_button").bind("click",function(i){b.addTag(f)})});$("#admin_ui_tags_list").bind("click",function(d){$("#admin_ui_common_tags").show()})},addCommonTag:function(){$("body").on("click",".btn-tag",function(d){d.preventDefault();b.addTag($(this).val())})},addTag:function(e){if(e){var g=e.split(",");if(g.length){var d=[];var f=$("#tags").val().split(",");$.each(g,function(i,j){j=j.trim();var h=$.inArray(j,f);if($.inArray(j,f)==-1){$("#admin_tags_list").append('<li><button type="button" id="tag-'+i+'" class="admin_ui_tag_del"><i class="far fa-times-circle" aria-hidden="true"></i></button>'+j+"</li>");d.push(j)}});if(f.length){$.each(f,function(h,i){i=i.trim();d.push(i)})}$("#tags").val(d.join(",").rtrim(","));$("#admin_ui_tags").val("")}}},registerRemoveTag:function(){$("body").on("click","#admin_tags_list button",function(f){f.preventDefault();var d=$(this).attr("id").ltrim("tag-");var g=$("#tags").val().split(",");$.each(g,function(e,h){h=h.trim();if(e==d){console.log(h);g=$.grep(g,function(i){return i!=h})}});$("#tags").val(g.join(",").rtrim(","));$(this).closest("li").remove()})}};a.init();c.init();b.init()});var admin_cat_meta_ui={ajaxCall:function(b,a){$("#save_new_ui_cat").on("click",function(){var c={form_id:"ui-category",fusion_token:b,cat_title:$("#ui_cat_title").val(),cat_parent:$("#ui_cat_parent").val(),cat_options:a};var d=$("#save_new_ui_cat").find("span.fa");d.show();$.ajax({url:INCLUDES+"jquery/form/meta-ui-category.php",method:"post",data:c,dataType:"json",success:function(f){},error:function(){console.log("Failed to fetch file")},complete:function(f,g){if(g=="success"){d.hide();$("#admin_category_list").html(f.responseJSON.checkbox);$("#ui_cat_select").html(f.responseJSON.select);$("#ui_cat_title").val("")}}})})},init:function(){}};